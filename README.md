Этот проект реализует многоконтейнерное Docker-приложение, определенное файлами docker-compose.yml и Dockerfile. Приложение состоит из нескольких сервисов, включая базы данных PostgreSQL, MongoDB, Apache Airflow и MailHog. Ниже приведено руководство по настройке и запуску проекта.

## Описание сервисов

- postgres: сервер базы данных PostgreSQL для метаданных Airflow.
- practice-db: отдельный сервер базы данных PostgreSQL для практических целей.
- mongo: сервер MongoDB для сервисов, которым требуется хранилище NoSQL.
- airflow-webserver: уеб-сервер для Apache Airflow, который включает пользовательский интерфейс для управления и мониторинга рабочих процессов.
- airflow-scheduler: планировщик для Apache Airflow, отвечающий за планирование рабочих процессов.
- airflow-init: сервис однократной инициализации для настройки базы данных Airflow и создания пользователя по умолчанию.
- mailhog: инструмент для тестирования электронной почты, который позволяет захватывать и просматривать электронные письма, отправленные из приложения.

## Как собрать и запустить

1. Клонируйте репозиторий, содержащий файлы docker-compose.yml и Dockerfile.

2. Перейдите в директорию, содержащую эти файлы.

3. Запустите следующую команду для сборки Docker-образов, если вы внесли изменения в Dockerfile или необходимо пересобрать образы:

      docker-compose build
   

4. Запустите сервисы с помощью Docker Compose:

      docker-compose up -d
   

   Флаг -d запускает контейнеры в фоновом режиме.

5. Чтобы проверить статус контейнеров, используйте:

      docker-compose ps
   

6. Чтобы получить доступ к веб-интерфейсу Airflow, откройте веб-браузер и перейдите на http://localhost:8080. Имя пользователя и пароль по умолчанию - airflow.

7. Чтобы остановить и удалить контейнеры, сети и тома, созданные с помощью docker-compose up, используйте:

      docker-compose down
   

## Тома

Файл docker-compose.yml определяет несколько томов:

- ./practicedata монтируется к сервису practice-db для сохранения данных.
- ./mongodata монтируется к сервису mongo для сохранения данных MongoDB.
- ./mongoinit монтируется к сервису mongo для выполнения скриптов инициализации.
- ./dags, ./logs, ./plugins и ./dbt монтируются к сервисам airflow-webserver и airflow-scheduler для конфигураций и логов Airflow.

Убедитесь, что эти директории существуют на вашем хост-компьютере перед запуском сервисов.

## Сети

Сервисы подключены через пользовательскую сеть моста с именем mynetwork, что позволяет контейнерам общаться друг с другом.
